webpackJsonp([1],{"+FuB":function(t,e){},"GR/j":function(t,e){},HBSQ:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("xd7I"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=i("C7Lr")({name:"App"},s,!1,function(t){i("lACX")},null,null).exports,r=i("rflr"),o=i.n(r),c=i("rVsN"),l=i.n(c),u=i("aozt"),d=i.n(u),m=i("R4Sj"),h={},g=i("mUbh"),v=i.n(g),f={permission_routers:function(t){return t.permission.routers},addRouters:function(t){return t.permission.addRouters},token:function(t){return t.user.token}},p=i("KGCO"),C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("h1",[this._v("404")]),this._v(" "),e("div",{staticClass:"error-msg"},[this._v("您输入了错误的网址或者网页已被管理员删除")]),this._v(" "),e("router-link",{staticClass:"home-link",attrs:{to:{name:"index"}}},[this._v("返回首页")])],1)},staticRenderFns:[]};var _=i("C7Lr")({name:"pageNoFound"},C,!1,function(t){i("SX85")},"data-v-42840cbd",null).exports,y=i("4YfN"),b=i.n(y);var w=function(){var t=[],e=.8,i=[],a=document.getElementById("canvas"),s=a.getContext("2d"),n=[0,0],r="#fff";a.width=a.clientWidth,a.height=a.clientHeight;var o=0,c=0;function l(t){var e,a,s,n=.25*(50+100*Math.random()),r={speed:2*(6*Math.random()+3),die:!1,posx:t,posy:-200,h:n,color:(e=Math.floor(255*n/75),a=Math.floor(255*n/75),s=Math.floor(255*n/75),"rgb("+e+","+a+","+s+")")};i.push(r)}function u(t,e){return{die:!1,posx:t,posy:e,vx:8*(Math.random()-.5),vy:-6*Math.random()-3,radius:1.5*Math.random()+1}}function d(e,i){for(var a=Math.floor(5*Math.random()+5),s=0;s<a;s++)t.push(u(e,i))}window.onresize=function(){a.width=a.clientWidth,a.height=a.clientHeight},window.onmousemove=function(t){var e=document.body.clientWidth||document.documentElement.clientWidth;n[0]=t.clientX,n[1]=t.clientY,c=(t.clientX-e/2)/(e/2)},window.requestAnimationFrame(function u(){t.length>0&&t.forEach(function(t){t.vx=t.vx+o/2,t.posx=t.posx+t.vx,t.vy=t.vy+e,t.posy=t.posy+t.vy,t.posy>a.clientHeight&&(t.die=!0)});for(var m=t.length-1;m>=0;m--)t[m].die&&t.splice(m,1);o+=(c-o)/50,Math.random()>0&&(l(2*Math.random()*a.width-.5*a.width),l(2*Math.random()*a.width-.5*a.width));var h=a.clientHeight-Math.random()*a.clientHeight/5;i.forEach(function(t){var e=Math.sqrt((t.posx+o*t.h-n[0])*(t.posx+o*t.h-n[0])+(t.posy+t.h-n[1])*(t.posy+t.h-n[1]));e<35&&(d(t.posx+o*t.h,t.posy+t.h),t.die=!0),t.posy+t.h>h&&Math.random()>.85&&(d(t.posx+o*t.h,t.posy+t.h),t.die=!0),t.posy>=a.clientHeight?t.die=!0:(t.posy=t.posy+t.speed,t.posx=t.posx+t.speed*o)});for(var g=i.length-1;g>=0;g--)i[g].die&&i.splice(g,1);s.fillStyle=r,s.fillRect(0,0,a.width,a.height),i.forEach(function(t){s.strokeStyle=t.color,s.lineWidth=.4,s.beginPath(),s.moveTo(t.posx,t.posy),s.lineTo(t.posx+o*t.h,t.posy+t.h),s.stroke()}),s.lineWidth=.2,s.strokeStyle="#000",t.forEach(function(t){s.beginPath(),s.arc(t.posx,t.posy,t.radius,Math.random()*Math.PI*2,1*Math.PI),s.stroke()}),window.requestAnimationFrame(u)})};function x(t){var e=new Date(t);return e.getMonth()+1+"月"+e.getDate()+"日  "+(e.getHours()>=10?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())}var T=["一个好的程序员应该是那种过单行线都要往两边看的人","抽象化是一种非常的不同于模糊化的东西 … 抽象的目的并不是为了模糊，而是为了创造出一种能让我们做到百分百精确的新语义","除数学外，对本土语言的异常的精通会是一个计算机程序员的最宝贵的财富","C语言很容易让你犯错误；C++看起来好一些，但当你用它时，你会发现会死的更惨","评论：解决问题大多数都很容易；找到问题出在哪里却很难","看看目前我们的计算机编程上的这种糟糕的状态，软件开发很显然仍然处于一种黑色艺术状态，仍然毫无工程规范可言","给与足够的眼球，所有的Bugs都很容易发现（例如，大量的beta测试，结对开发，所有的问题都能很快的发现和修复）","高质量的代码就是对程序自己最好的注释。当你打算要添加注释时，问问自己，“我如何能改进编码以至于根本不需要添加注释？”改进你的代码，然后才是用注释使它更清楚","任何优秀的大软件里面都是一个个优秀的小程序","我们应该注意到，没有一个受过伦理教育的软件工程师会同意开发出“摧毁巴格达”的程序。然而基本的职业道德却可以要求他们开发出“摧毁城市”的程序，巴格达只是这个程序的一个参数","管理程序员就像是在放养一群猫","用代码行数来评估程序的开发进度，就好比是拿重量来评估一个飞机的建造进度","在一种编程语言中，即使有再多的好程序被诋毁指责，也要比被说成完美无缺好 — 好的多","程序应该是写给其他人读的，让机器来运行它只是一个附带功能","真正的程序员从来不注释他们的代码。如果你做不到这样，也就说明你不能使你的程序易于理解","简单是稳定的前提","最初90%的开发工作将会用去你最初90%的开发时间。剩下的10%的开发量将会用去你另外一个90%的开发时间","性能的关键是精简，而不是一堆的优化用例。除非有真正显著的效果，否则一定要忍住你那些蠢蠢欲动的小微调的企图","使用C++的问题就在于 … 这种语言有一种很大的脾气，在你想做任何事情之前你必须把所有的知识都掌握才行","开发的越早，程序花费你的时间越长","世上只有两种编程语言：一种是总是被人骂的，一种是从来没人用的","世上有两种设计软件的方法。一种是尽量的简化，以至于明显没有任何缺陷。而另一种是尽量复杂化，以至于找不到明显的缺陷","数周的编程能省掉你几个小时的计划时间","当一种能够让程序员通过简单的英语来编程的编程语言诞生后，你会发现程序员们都不会说英语","生命太短暂，不要去做一些根本没有人想要的东西","如果你交给某人一个程序，你将折磨他一整天；如果你教某人如何编写程序，你将折磨他一辈子","软件设计有两种方式：一种方式是，使软件过于简单，明显没有缺陷；另一种方式是，使软件过于复杂，没有明显的缺陷","其实，我尝试着使 Ruby 更自然，而不是简单。Ruby 看起来很简单，但内部是非常复杂的，就像我们的身体一样","当你试图解决一个你不理解的问题时，复杂化就产成了","计算机科学领域的所有问题都可以通过其他方式间接解决","调试一个初次见到的代码比重写代码要困难两倍。因此，按照定义，如果你写代码非常巧妙，那么没有人足够聪明来调试它","我不是一个伟大的程序员，我只是一个具有良好习惯的优秀程序员","你们中大多数人都熟悉程序员的美德，有三种：那就是懒惰、急躁和傲慢","任何一个傻瓜都会写能够让机器理解的代码，只有好的程序员才能写出人类可以理解的代码","作为一个程序员，郁闷的事情是，面对一个代码块，却不敢去修改。更糟糕的是，这个代码块还是自己写的","它在我的机器上可以很好运行！！！","过早的优化是罪恶之源","质量、速度、廉价，选择其中两个","好代码本身就是最好的文档。当你需要添加一个注释时，你应该考虑如何修改代码才能不需要注释","九个人不能让一个孩子在一个月内出生","UNIX很简单。但需要有一定天赋的人才能理解这种简单","软件在能够复用前必须先能用","程序员和上帝打赌要开发出更大更好——傻瓜都会用的软件。而上帝却总能创造出更大更傻的傻瓜。所以，上帝总能赢","有两种软件设计的方式：一种是使它足够简单以致于明显没有缺陷，另一种则是使它足够复杂以致于没有明显的缺陷","软件工程的目标是控制复杂度，而不是增加复杂性"],k=["如烟","倔强","突然好想你","知足","你不是真正的快乐","后来的我们","温柔","一颗苹果","永远的永远","拥抱","离开地球表面","人生海海","派对动物","晴天","七里香","东风破","不能说的秘密","彩虹","以父之名","屋顶","青花瓷","一路向北","夜曲","简单爱","明明就","断了的弦","蜗牛","Shape of You","Closer","Treat You Better","Payphone","Counting Stars","The Saltwater Room"],L=function(t){var e=t.length;return t[Math.floor(Math.random()*e)]};var P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer-wrapper"},[e("div",{staticClass:"main-container footer-container"},[this._m(0),this._v(" "),e("div",{staticClass:"connect-me-wrapper"},[this._m(1),this._v(" "),e("a",{staticClass:"connect-me",on:{click:this.openMenu}},[e("i",{staticClass:"icon iconfont icon-yonghu"}),e("span",{staticClass:"about-me"},[this._v("about me")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[this._v("© 2019 remango个人博客网站  "),e("span",{staticClass:"version"},[this._v("version 1.0.0")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"connect-me",attrs:{href:"https://github.com/REmango",target:"_blank"}},[e("i",{staticClass:"icon iconfont icon-github"})])}]};var S=i("C7Lr")({name:"blog-footer",methods:{openMenu:function(){this.$emit("openMenu")}}},P,!1,function(t){i("zjED")},"data-v-513403d3",null).exports,A=i("uAC3"),M=i.n(A),F="Admin-Token";function I(){return M.a.get(F)}function B(){return M.a.remove(F)}var E="User-Avatar";function U(){return M.a.remove(E)}var O={name:"blog-header",data:function(){return{isOpenNavMenu:!1,articleData:"",isShowSearchInput:!1,isShowUser:!1,avatarUrl:""}},mounted:function(){this.initHeader()},methods:{switchMenu:function(){this.isOpenNavMenu=!this.isOpenNavMenu},logout:function(){var t=this;this.$store.dispatch("Logout").then(function(e){0===e.data.errorCode&&(t.isShowUser=!1,t.$message({message:"已退出",type:"success"}))}).catch(function(t){console.log(t)})},initHeader:function(){this.avatarUrl=M.a.get(E),this.isShowSearchInput="index"===this.$route.name,I()&&(this.isShowUser=!0)},toLoginPage:function(){this.$router.push({name:"login"})},searchArticlesByKey:function(){"index"===this.$route.name&&this.$emit("searchArticlesByKey",this.articleData)}}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav",{staticClass:"nav nav-top"},[i("div",{staticClass:"nav-header"},[i("div",{staticClass:"logo-wrapper clearfix"},[i("router-link",{staticClass:"logo",attrs:{to:{name:"index"}}},[t._v("博客")])],1),t._v(" "),i("div",{staticClass:"menu-btn-wrapper"},[i("a",{staticClass:"menu-btn",on:{click:t.switchMenu}},[i("i",{staticClass:"icon iconfont icon-ego-menu"})])]),t._v(" "),i("div",{staticClass:"login-register-wrapper"},[t.isShowUser?i("a",{staticClass:"avatar"},[i("img",{attrs:{src:t.avatarUrl}}),t._v(" "),i("div",{staticClass:"avatar-dropdown"},[i("div",{staticClass:"dropdown-wrapper"},[i("div",{staticClass:"triangle"}),t._v(" "),i("div",{staticClass:"dropdown-content"},[i("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),i("li",{staticClass:"user-item"},[i("a",{attrs:{href:"#"},on:{click:t.logout}},[i("i",{staticClass:"icon iconfont icon-tuichu"}),t._v("退出系统")])])])])])])]):t._e(),t._v(" "),t.isShowUser?t._e():i("span",[i("el-button",{staticClass:"nav-btn",attrs:{size:"medium"},on:{click:function(e){return t.toLoginPage()}}},[t._v("登录")]),t._v(" "),i("el-button",{staticClass:"nav-btn",attrs:{size:"medium"}},[t._v("注册")])],1)]),t._v(" "),i("div",{staticClass:"main-container center-nav"},[i("div",{staticClass:"write-btn-wrapper"},[i("router-link",{staticClass:"write-btn",attrs:{to:{name:"writeArticle"}}},[t._v("写博客")])],1),t._v(" "),i("ul",{staticClass:"header-list"},[i("li",{staticClass:"header-item clearfix"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"index"}}},[i("i",{staticClass:"icon iconfont icon-home1"}),t._v("首页")])],1),t._v(" "),i("li",{staticClass:"header-item clearfix"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"hotSpot"}}},[i("i",{staticClass:"icon iconfont icon-redu"}),t._v("热点")])],1),t._v(" "),i("li",{staticClass:"header-item clearfix"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"timeLine"}}},[i("i",{staticClass:"icon iconfont icon-shijian2"}),t._v("时间轴")])],1),t._v(" "),t.isShowSearchInput?i("li",{staticClass:"header-item clearfix"},[i("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"请输入搜索内容","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchArticlesByKey(e)}},model:{value:t.articleData,callback:function(e){t.articleData=e},expression:"articleData"}})],1):t._e()])])])]),t._v(" "),i("div",{staticClass:"nav-menu-wrapper",class:{"open-menu":t.isOpenNavMenu}},[i("ul",{staticClass:"nav-menu-list"},[i("li",{staticClass:"nav-menu"},[i("router-link",{staticClass:"nav-menu-link",attrs:{to:{name:"index"}}},[i("i",{staticClass:"icon iconfont icon-home1"}),t._v("首页")])],1),t._v(" "),i("li",{staticClass:"nav-menu"},[i("router-link",{staticClass:"nav-menu-link",attrs:{to:{name:"hotSpot"}}},[i("i",{staticClass:"icon iconfont icon-redu"}),t._v("热点")])],1),t._v(" "),i("li",{staticClass:"nav-menu"},[i("router-link",{staticClass:"nav-menu-link",attrs:{to:{name:"timeLine"}}},[i("i",{staticClass:"icon iconfont icon-shijian2"}),t._v("时间轴")])],1),t._v(" "),t._m(2),t._v(" "),i("li",{staticClass:"nav-menu"},[i("router-link",{staticClass:"nav-menu-link",attrs:{to:{name:"writeArticle"}}},[i("i",{staticClass:"icon iconfont icon-xiepinglun"}),t._v("写博客")])],1),t._v(" "),i("li",{staticClass:"nav-menu"},[i("router-link",{staticClass:"nav-menu-link",attrs:{to:{name:"login"}}},[i("i",{staticClass:"icon iconfont icon-denglu"}),t._v("登录")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"user-item"},[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-iconset"}),this._v("账号设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"user-item"},[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-shuju"}),this._v("后台管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"nav-menu"},[e("a",{staticClass:"nav-menu-link"},[e("i",{staticClass:"icon iconfont icon-search1"}),this._v("搜索")])])}]};var q=i("C7Lr")(O,R,!1,function(t){i("b4Sb")},"data-v-32ea32c2",null).exports,z=i("IHPB"),D=i.n(z),N=i("CtzY"),j=i.n(N),H={name:"HelloWorld",props:{isOpenBoard:{type:Boolean,default:!1}},data:function(){return{checked:!1,randomUsernameList:[],currentPage:1,pageSize:3,busy:!1,messageBoardForm:{replyMessage:"",username:""},isShowLoading:!0,messageTotal:0,rules:{replyMessage:[{required:!0,message:"请输入您的留言"}],username:[{required:!0,message:"请输入昵称"}]},messageList:[],getMessageBoardUrl:"/blog/getMessageBoard",saveMessageBoardUrl:"/blog/saveMessageBoard"}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.busy=!1,this.currentPage=1;var e={offset:(this.currentPage-1)*this.pageSize+1,limit:this.pageSize};this.axios.get(this.getMessageBoardUrl,{params:e}).then(function(e){t.messageList=e.data.data.rows,t.messageTotal=e.data.data.total}).catch(function(t){console.log(t)})},addMessage:function(){var t=this;this.currentPage+=1;var e={offset:(this.currentPage-1)*this.pageSize+1,limit:this.pageSize};this.axios.get(this.getMessageBoardUrl,{params:e}).then(function(e){var i;(i=t.messageList).push.apply(i,D()(e.data.data.rows)),t.messageTotal=e.data.data.total,t.isShowLoading=!1}).catch(function(t){console.log(t)})},loadMore:function(){var t=this,e=(this.currentPage-1)*this.pageSize+1;console.log(e,this.messageTotal),e>=this.messageTotal&&0!==this.messageTotal?(this.isShowLoading=!1,this.busy=!0):(this.isShowLoading=!0,setTimeout(function(){t.addMessage(),t.busy=!1},1e3))},generateUsername:function(t){this.messageBoardForm.username=t?L(k):""},closeMessageBoard:function(){this.$emit("closeBoard")},submit:function(){var t=this,e={nickname:this.messageBoardForm.username,message:this.messageBoardForm.replyMessage};this.$refs.messageBoardForm.validate(function(i){if(!i)return console.log("error submit!!"),!1;t.axios.post(t.saveMessageBoardUrl,j.a.stringify(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){0===e.data.errorCode?(t.messageBoardForm.username="",t.messageBoardForm.replyMessage="",t.$message({message:"提交成功",type:"success"}),t.$refs.messageBoardForm.resetFields(),t.init()):t.$message({showClose:!0,message:"提交失败",type:"error"})}).catch(function(e){t.$message({showClose:!0,message:"提交失败",type:"error"}),console.log(e)})})},getFormatCN:function(t){return x(t)}}},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{open:t.isOpenBoard}},[i("div",{staticClass:"background-shadow",on:{click:t.closeMessageBoard}}),t._v(" "),i("div",{staticClass:"message-board-container"},[i("div",{staticClass:"message-board"},[i("i",{staticClass:"el-icon-close",on:{click:t.closeMessageBoard}}),t._v(" "),t._m(0),t._v(" "),i("p",{staticClass:"subtitle"},[t._v("您对网站有什么建议或是有什么想对remango说的")]),t._v(" "),i("el-form",{ref:"messageBoardForm",staticClass:"reply-form",attrs:{model:t.messageBoardForm,rules:t.rules}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{placeholder:"昵称",disabled:t.checked,maxlength:"20"},model:{value:t.messageBoardForm.username,callback:function(e){t.$set(t.messageBoardForm,"username",e)},expression:"messageBoardForm.username"}})],1),t._v(" "),i("el-form-item",{staticClass:"form-item",attrs:{prop:"replyMessage"}},[i("el-input",{staticClass:"reply-message",attrs:{type:"textarea",rows:3,placeholder:"留下您的足迹",maxlength:"60"},model:{value:t.messageBoardForm.replyMessage,callback:function(e){t.$set(t.messageBoardForm,"replyMessage",e)},expression:"messageBoardForm.replyMessage"}}),t._v(" "),i("div",{staticClass:"prompt"},[i("span",{class:{warning:t.messageBoardForm.replyMessage.length>=60}},[t._v(t._s(t.messageBoardForm.replyMessage.length))]),t._v("/60")])],1),t._v(" "),i("div",{staticClass:"form-item group-btn"},[i("el-checkbox",{staticClass:"random-input",on:{change:t.generateUsername},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("随机生成昵称")]),t._v(" "),i("div",{staticClass:"reply-btn-wrapper"},[i("el-button",{staticClass:"reply-btn",attrs:{type:"success",plain:""},on:{click:t.submit}},[t._v("立即回复")])],1)],1)],1),t._v(" "),i("div",{staticClass:"history-message-panel"},[i("div",{staticClass:"history-message-title"},[t._v("留言 "),i("span",{staticClass:"total"},[t._v(t._s("共"+t.messageTotal+"条"))])]),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"history-message-list-wrapper",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[t.messageList.length>0?i("ul",{staticClass:"history-message-list"},t._l(t.messageList,function(e){return i("li",{key:e.id,staticClass:"history-message-item"},[i("div",{staticClass:"author-info"},[i("span",{staticClass:"author"},[t._v(t._s(e.nickname))]),t._v(" "),i("span",{staticClass:"date"},[t._v(t._s(t.getFormatCN(e.createTime)))])]),t._v(" "),i("div",{staticClass:"history-message"},[t._v("\n                "+t._s(e.message)+"\n              ")])])}),0):t._e(),t._v(" "),i("div",[t.isShowLoading?i("div",{staticClass:"la-line-scale-pulse-out  loading"},[i("div"),t._v(" "),i("div"),t._v(" "),i("div"),t._v(" "),i("div"),t._v(" "),i("div")]):i("div",{staticClass:"loading-end"},[t._v("已到最后")])])])])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"title"},[e("span",{staticClass:"red"},[this._v("留")]),this._v(" "),e("span",{staticClass:"yellow"},[this._v("言")]),this._v(" "),e("span",{staticClass:"blue"},[this._v("板")])])}]};var K={name:"index",components:{blogFooter:S,blogHeader:q,messageBoard:i("C7Lr")(H,V,!1,function(t){i("eehH")},"data-v-57cd5e01",null).exports},data:function(){return{isActive:!1,pagination:{currentPage:1,pageSize:10,total:0},isOpenMenu:!1,searchMsg:"",articleSearchKey:"",isOpenBoard:!1,articlesList:[],navList:[{label:"我的音乐",icon:"icon-yinle",id:1},{label:"留言板",icon:"icon-liuyan1",id:2},{label:"关于我",icon:"icon-guanyuwomen",id:3}],articlesUrl:"/blog/queryArticles"}},computed:b()({},Object(m.b)({tags:"tags"}),{getQuotes:function(){return L(T)}}),mounted:function(){w(),this.isActive=!0,this.getArticle()},methods:{closeBoard:function(){this.isOpenBoard=!1},operate:function(t){2===t&&(this.isOpenMenu=!1,this.isOpenBoard=!0)},searchArticlesByKey:function(t){this.articleSearchKey=t,this.getArticle(t)},getArticle:function(){var t=this,e={key:arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.articleSearchKey,offset:(this.pagination.currentPage-1)*this.pagination.pageSize+1,limit:this.pagination.pageSize};this.axios.get(this.articlesUrl,{params:e}).then(function(e){t.pagination.total=e.data.data.total,t.articlesList=e.data.data.rows,t.articlesList.length>0&&(t.searchMsg="抱歉，未检索到任何结果...")}).catch(function(t){console.log(t)})},toArticleContentPage:function(t,e){this.$router.push({name:"articleContent",query:{articleId:t,author:e}})},toLoginPage:function(){this.$router.push({name:"login"})},handleSizeChange:function(t){this.pagination.pageSize=t,this.getArticle()},handleCurrentChange:function(t){this.pagination.currentPage=t,this.getArticle()},getCategoriesList:function(t){return t.split(",").join("   ")},getFormatCN:function(t){return x(t)},openMenu:function(){this.isOpenMenu=!0},closeMenu:function(){this.isOpenMenu=!1}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("blog-header",{on:{searchArticlesByKey:t.searchArticlesByKey}}),t._v(" "),i("div",{staticClass:"main-container "},[i("div",{staticClass:"index-page-container",class:{"enter-animation-active":t.isActive}},[t._m(0),t._v(" "),i("div",{staticClass:"blog-container"},[i("div",{staticClass:"blog-content-wrapper"},[t.articlesList.length>0?i("ul",{staticClass:"blog-list"},t._l(t.articlesList,function(e){return i("li",{key:e.id,staticClass:"blog-item"},[i("a",{staticClass:"blog-title",on:{click:function(i){return t.toArticleContentPage(e.articleId,e.author)}}},[t._v(t._s(e.articleTitle))]),t._v(" "),i("div",{staticClass:"blog-info"},[i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-yonghutouxiang"}),t._v(" "+t._s(e.author)+"\n              ")]),t._v(" "),e.createTime?i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-rili1"}),t._v(" "+t._s(t.getFormatCN(e.createTime))+"\n              ")]):t._e(),t._v(" "),i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-biaoqian"}),t._v(" "+t._s(t.getCategoriesList(e.categories))+"\n              ")])]),t._v(" "),i("p",{staticClass:"blog-summary"},[t._v(t._s(e.summary+"...")+"\n              ")])])}),0):i("div",[t._v(t._s(t.searchMsg))])]),t._v(" "),i("div",{staticClass:"blog-sidebar-wrapper"},[i("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("常用标签")])]),t._v(" "),i("div",{staticClass:"sidebar-tags"},[i("ul",{staticClass:"tags-list"},t._l(t.tags,function(e){return i("li",{key:e.label,staticClass:"tags-item"},[i("div",{staticClass:"tags-link-wrapper"},[i("a",{staticClass:"tags-link",on:{click:function(i){return t.getArticle(e.label)}}},[i("i",{staticClass:"icon iconfont",class:e.icon}),i("span",[t._v(t._s(e.label))])])])])}),0)])]),t._v(" "),i("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("今日份鸡汤")])]),t._v(" "),i("div",{staticClass:"quote"},[t._v("\n              "+t._s(t.getQuotes)+"\n            ")])])],1)]),t._v(" "),i("div",{staticClass:"blog-pagination"},[i("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,layout:"prev, pager, next, total",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]),t._v(" "),i("div",{staticClass:"sidebar-container",class:{open:t.isOpenMenu}},[i("div",{staticClass:"sidebar-shadow",on:{click:t.closeMenu}}),t._v(" "),i("div",{staticClass:"sidebar-content"},[i("div",{staticClass:"nav-title"},[t._v("\n        个人空间\n      ")]),t._v(" "),i("div",{staticClass:"sidebar-menu-wrapper"},[i("ul",{staticClass:"sidebar-menu"},t._l(t.navList,function(e){return i("li",{key:e.id,staticClass:"sidebar-item"},[i("a",{staticClass:"sidebar-item-content",on:{click:function(i){return t.operate(e.id)}}},[i("i",{staticClass:"icon iconfont",class:e.icon}),t._v(" "),i("span",[t._v(t._s(e.label))])])])}),0)])])]),t._v(" "),i("message-board",{attrs:{isOpenBoard:t.isOpenBoard},on:{closeBoard:t.closeBoard}}),t._v(" "),i("blog-footer",{on:{openMenu:t.openMenu}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"canvas-wrapper"},[e("div",{staticClass:"joke"},[this._v("\n          ——上帝向人间洒满智慧，而我却打起了伞\n        ")]),this._v(" "),e("img",{staticClass:"umbrella",attrs:{src:i("SY7O")}}),this._v(" "),e("canvas",{staticClass:"canvas",attrs:{id:"canvas",height:"200",width:"960"}})])}]};var W=i("C7Lr")(K,G,!1,function(t){i("ZaWe")},"data-v-2c2f3be2",null).exports,Y=i("3cXf"),X=i.n(Y),J=function(t){return JSON.parse(window.localStorage.getItem(t))},Q=function(t,e){window.localStorage.setItem(t,X()(e))},Z={name:"write-article",data:function(){return{articleTitle:"",markdownObj:null,intervalId:null,dialogVisible:!1,articleTypeList:[{type:"原创"},{type:"转载"}],getCurrentUserUrl:"/blog/getCurrentUser",articleInfoForm:{checkedTags:[],author:"",articleType:""},rules:{checkedTags:[{type:"array",required:!0,message:"请至少选择一个标签",trigger:"change"}],author:[{required:!0,message:"请输入作者名称",trigger:"blur"},{max:35,message:"长度最多 35 个字符",trigger:"blur"}],articleType:[{required:!0,message:"请选择文章类型",trigger:"change"}]},publishArticleUrl:"/blog/publishArticle"}},computed:b()({},Object(m.b)({tags:"tags"})),mounted:function(){this.loadCache(),this.initMarkdown(),this.articleCache()},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{loadCache:function(){this.$refs.markdownText.innerText=J("remango-blog")},articleCache:function(){var t=this;this.intervalId=setInterval(function(){Q("remango-blog",t.$refs.markdownText.innerText)},5e3)},initMarkdown:function(){this.markdownObj=editormd("my-editormd",{width:"100%",height:740,syncScrolling:!0,placeholder:"记录你的灵感",path:"./static/markdown/lib/",previewTheme:"dark",codeFold:!0,tocm:!0,tex:!0,flowChart:!0,sequenceDiagram:!0,htmlDecode:!0,imageUpload:!0,imageFormats:["jpg","jpeg","gif","png","bmp","webp","JPG","JPEG","GIF","PNG","BMP","WEBP"],imageUploadURL:"/blog/uploadImage",onload:function(){},saveHTMLToTextarea:!0,toolbarIcons:function(){return["bold","del","italic","quote","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","image","code","code-block","table","datetime","html-entities","|","watch","preview","fullscreen","clear","search","|","help","info"]}})},publishArticle:function(){var t=this;this.$store.dispatch("GetInfo").then(function(e){e.data.data?(t.articleInfoForm.author=e.data.data.username,t.$refs.markdownContent.innerText&&t.articleTitle?t.dialogVisible=!0:t.$alert("请填写标题或文章内容","提示",{confirmButtonText:"确定",type:"warning",callback:function(t){}}),console.log(e.data.data)):t.$alert("只有登录才能发文章哦！","提示",{confirmButtonText:"确定",type:"warning",callback:function(t){}})}).catch(function(t){console.log(t)})},finishedPublishArticle:function(t){var e=this,i=this.getSummary(this.markdownObj.getHTML()),a=this.articleInfoForm.checkedTags.join(","),s={author:this.articleInfoForm.author,articleTitle:this.articleTitle,type:this.articleInfoForm.articleType,categories:a,content:this.$refs.markdownContent.innerText,summary:i};console.log(s),this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.axios.post(e.publishArticleUrl,j.a.stringify(s),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){e.articleTitle="",e.resetForm("articleInfoForm"),e.$refs.markdownText.innerText="",Q("remango-blog",""),e.dialogVisible=!1,e.$alert("已发布，前往首页！","提示",{confirmButtonText:"确定",type:"success",callback:function(t){e.$router.push({name:"index"})}})}).catch(function(t){console.log(t)})})},resetForm:function(t){this.$refs[t].resetFields()},toLoginPage:function(){this.$router.push({name:"login"})},getSummary:function(t){for(var e=t.replace(/s/g,""),i="",a=e.indexOf("<"),s=e.indexOf(">");-1!==a&&(i+=e.substring(0,a),a=(e=e.substring(s+1)).indexOf("<"),i.length<70);)e.length>4&&"<"===e.charAt(a)&&"p"===e.charAt(a+1)&&"r"===e.charAt(a+2)&&"e"===e.charAt(a+3)?(s=e.indexOf("</pre>"),s+=5):s=e.indexOf(">");return i}}},tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav",{staticClass:"nav nav-top"},[i("div",{staticClass:"nav-header"},[i("div",{staticClass:"logo-wrapper clearfix"},[i("router-link",{staticClass:"logo",attrs:{to:{name:"index"}}},[t._v("博客")])],1),t._v(" "),i("div",{staticClass:"login-register-wrapper"},[i("el-button",{staticClass:"nav-btn",attrs:{size:"medium"},on:{click:function(e){return t.toLoginPage()}}},[t._v("登录")])],1),t._v(" "),t._m(0)])]),t._v(" "),i("div",{staticClass:"title-input-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.articleTitle,expression:"articleTitle"}],staticClass:"title-input",attrs:{placeholder:"请输入标题"},domProps:{value:t.articleTitle},on:{input:function(e){e.target.composing||(t.articleTitle=e.target.value)}}}),t._v(" "),i("div",{staticClass:"publish-btn",on:{click:function(e){return t.publishArticle()}}},[t._v("发布文章")])]),t._v(" "),i("div",{staticClass:"markdown-wrapper",attrs:{id:"my-editormd"}},[i("textarea",{ref:"markdownText",attrs:{id:"my-editormd-markdown-doc",name:"my-editormd-markdown-doc"}},[t._v("123")]),t._v(" "),i("textarea",{ref:"markdownContent",attrs:{id:"my-editormd-html-code",name:"my-editormd-html-code"}})]),t._v(" "),i("el-dialog",{attrs:{title:"发布文章",visible:t.dialogVisible,width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("form",[i("el-form",{ref:"articleInfoForm",staticClass:"demo-ruleForm",attrs:{model:t.articleInfoForm,rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"文章作者",prop:"author"}},[i("el-input",{staticClass:"author-input",attrs:{placeholder:"作者",size:"mini",maxlength:"30",disabled:!0},model:{value:t.articleInfoForm.author,callback:function(e){t.$set(t.articleInfoForm,"author",e)},expression:"articleInfoForm.author"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章类型",prop:"articleType"}},[i("el-select",{staticClass:"type-select",attrs:{size:"mini",placeholder:"请选择"},model:{value:t.articleInfoForm.articleType,callback:function(e){t.$set(t.articleInfoForm,"articleType",e)},expression:"articleInfoForm.articleType"}},t._l(t.articleTypeList,function(t){return i("el-option",{key:t.type,attrs:{label:t.type,value:t.type}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"选择标签",prop:"checkedTags"}},[i("el-checkbox-group",{model:{value:t.articleInfoForm.checkedTags,callback:function(e){t.$set(t.articleInfoForm,"checkedTags",e)},expression:"articleInfoForm.checkedTags"}},t._l(t.tags,function(e){return i("el-checkbox",{key:e.label,attrs:{label:e.label}},[t._v(t._s(e.label))])}),1)],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.resetForm("articleInfoForm")}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.finishedPublishArticle("articleInfoForm")}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-container"},[e("div",{staticClass:"welcome"},[this._v("Record  your  Idea")])])}]};var et=i("C7Lr")(Z,tt,!1,function(t){i("sRUV")},"data-v-9d27feac",null).exports,it=i("lC5x"),at=i.n(it),st=i("J0Oq"),nt=i.n(st),rt=i("e9Q/"),ot={name:"login",data:function(){return{loginForm:{username:"",password:""},verificationCode:"",isPassVerify:!1,staticImgUrl:"/blog/captcha/get?",imgUrl:"/blog/captcha/get?"+(new Date).getTime(),captchaVerifyUrl:"/blog/captcha/verify",rules:{username:[{required:!0,message:"输入不能为空",trigger:"change"}],password:[{required:!0,message:"输入不能为空",trigger:"change"}]}}},watch:{verificationCode:function(t,e){var i=this;t.length<5?this.isPassVerify=!1:this.axios.post(this.captchaVerifyUrl,j.a.stringify({captcha:this.verificationCode}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){i.isPassVerify=0===t.data.errorCode}).catch(function(t){i.isPassVerify=!1,console.log(t)})}},mounted:function(){var t=this;document.onkeydown=function(){window.event&&13===window.event.keyCode&&"login"===t.$route.name&&t.isPassVerify&&t.loginSystem("loginForm")}},methods:{refreshImg:function(){this.verificationCode="",this.imgUrl=this.staticImgUrl+(new Date).getTime()},loginSystem:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.loginForm.password=Object(rt.sha256)(e.loginForm.password+e.loginForm.username),e.VerifyAndSetCookie(e.loginForm).then(function(t){}).catch(function(t){e.refreshImg(),t.data&&e.$message.error(t.data.errorMsg)}))})},VerifyAndSetCookie:function(t){var e=this;return nt()(at.a.mark(function i(){var a;return at.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.$store.dispatch("Login",t);case 2:if(0===(a=i.sent).data.errorCode){i.next=7;break}e.$message.error(a.data.errorMsg),i.next=10;break;case 7:return i.next=9,e.$store.dispatch("GetInfo");case 9:e.$router.push({name:"index"});case 10:case"end":return i.stop()}},i,e)}))()}}},ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav",{staticClass:"nav nav-top"},[i("div",{staticClass:"nav-header"},[i("div",{staticClass:"logo-wrapper clearfix"},[i("router-link",{staticClass:"logo",attrs:{to:{name:"index"}}},[t._v("博客")])],1)])]),t._v(" "),i("div",{staticClass:"login-container"},[i("div",{staticClass:"login-box"},[t._m(0),t._v(" "),i("div",{staticClass:"login-form-wrapper"},[i("form",[i("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{staticClass:"login-input",attrs:{placeholder:"用户名","prefix-icon":"fa-user fa"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{staticClass:"login-input",attrs:{type:"password",placeholder:"密码","prefix-icon":"fa-lock fa"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),i("el-form-item",[i("el-input",{staticClass:"verification-code-input",class:[t.isPassVerify?"red":""],attrs:{type:"text",placeholder:"验证码","prefix-icon":t.isPassVerify?"fa fa-check":"fa fa-image",maxLength:"5"},model:{value:t.verificationCode,callback:function(e){t.verificationCode=e},expression:"verificationCode"}}),t._v(" "),i("a",{staticClass:"verification-code-wrapper",attrs:{href:"#"}},[i("img",{staticClass:"verification-code-img",attrs:{title:"点击刷新",src:t.imgUrl},on:{click:t.refreshImg}})])],1),t._v(" "),i("el-form-item",[i("el-button",{staticClass:"login-button",attrs:{type:"primary",disabled:!t.isPassVerify},on:{click:function(e){return t.loginSystem("loginForm")}}},[t._v("Sign in")])],1)],1)],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-title"},[e("h2",[this._v("Remango-Blog 登录平台")]),this._v(" "),e("p",[this._v("基于element-ui的极致体验")])])}]};var lt=i("C7Lr")(ot,ct,!1,function(t){i("pPDw")},"data-v-25853754",null).exports,ut={name:"article-content",components:{blogHeader:q},data:function(){return{articleTitle:"",publishTime:"",author:"",categories:"",visits:0,prePage:{articleTitle:"",articleId:null,author:null},nextPage:{articleTitle:"",articleId:null,author:null},queryArticleByIdAuthorUrl:"/blog/queryArticleByIdAuthor",queryArticleInfoByIdUrl:"/blog/queryArticleInfoById"}},mounted:function(){this.loadArticleContent(this.getArticleParamObj())},methods:{loadArticleContent:function(t){var e=this;this.axios.get(this.queryArticleByIdAuthorUrl,{params:t}).then(function(t){e.articleTitle=t.data.data.articleTitle,e.author=t.data.data.author,e.publishTime=e.getFormatDate(t.data.data.createTime),e.categories=e.getCategoriesList(t.data.data.categories),e.visits=t.data.data.visits,e.queryPreNext(t.data.data.lastArticleId,t.data.data.nextArticleId),$("#wordsView").empty().append('<textarea style="display:none;" name="editormd-markdown-doc" id="mdText"></textarea>'),$("#mdText").text("").text(t.data.data.content),editormd.markdownToHTML("wordsView",{htmlDecode:"true",emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0}),console.log(t.data.data)}).catch(function(t){console.log(t)})},toTargetPage:function(t,e){t&&e&&(this.loadArticleContent({articleId:t,author:e}),this.$router.replace({name:"articleContent",query:{articleId:t,author:e}}))},queryPreNext:function(t,e){var i=this;t?this.axios.get(this.queryArticleInfoByIdUrl,{params:{id:t}}).then(function(t){i.prePage.articleTitle=t.data.data.articleTitle,i.prePage.articleId=t.data.data.articleId,i.prePage.author=t.data.data.author}).catch(function(t){console.log(t)}):(this.prePage.articleTitle="",this.prePage.articleId=null,this.prePage.author=null),e?this.axios.get(this.queryArticleInfoByIdUrl,{params:{id:e}}).then(function(t){i.nextPage.articleTitle=t.data.data.articleTitle,i.nextPage.articleId=t.data.data.articleId,i.nextPage.author=t.data.data.author}).catch(function(t){console.log(t)}):(this.nextPage.articleTitle="",this.nextPage.articleId=null,this.nextPage.author=null)},getArticleParamObj:function(){var t={};return window.location.href.split("?")[1].split("&").forEach(function(e){var i=e.split("="),a=i[0],s=i[1];t[a]=s}),t},getCategoriesList:function(t){return t.split(",").join(" ")},getFormatDate:function(t){return function(t){var e=new Date(t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+(e.getDate()>=10?e.getDate():"0"+e.getDate())+"日  "+(e.getHours()>=10?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())}(t)}}},dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("blog-header"),t._v(" "),i("div",{staticClass:"main-container"},[i("div",{staticClass:"article-wrapper"},[i("div",{staticClass:"article-title"},[t._v("\n        "+t._s(t.articleTitle)+"\n      ")]),t._v(" "),i("div",{staticClass:"blog-info"},[i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-yonghutouxiang"}),t._v(" "+t._s(t.author)+"\n        ")]),t._v(" "),t.publishTime?i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-rili1"}),t._v(" "+t._s(t.publishTime)+"\n        ")]):t._e(),t._v(" "),i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-biaoqian"}),t._v(" "+t._s(t.categories)+"\n        ")]),t._v(" "),i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-shu"}),t._v(" "+t._s(t.visits)+"\n        ")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"article-turn"},[i("div",{staticClass:"pre-turn"},[i("a",{staticClass:"turn-link",on:{click:function(e){return t.toTargetPage(t.prePage.articleId,t.prePage.author)}}},[i("i",{staticClass:"el-icon-arrow-left pre-icon"}),t._v(" "),t.prePage.articleId?i("span",{staticClass:"turn-text"},[t._v(t._s(t.prePage.articleTitle))]):i("span",[t._v("已到最前")])])]),t._v(" "),i("div",{staticClass:"next-turn"},[i("a",{staticClass:"turn-link",on:{click:function(e){return t.toTargetPage(t.nextPage.articleId,t.nextPage.author)}}},[t.nextPage.articleId?i("span",{staticClass:"turn-text"},[t._v(t._s(t.nextPage.articleTitle))]):i("span",[t._v("已到最后")]),t._v(" "),i("i",{staticClass:"el-icon-arrow-right next-icon"})])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"article-content"},[e("div",{attrs:{id:"wordsView"}},[e("textarea",{staticStyle:{display:"none"},attrs:{name:"editormd-markdown-doc",id:"mdText"}})])])}]};var mt=i("C7Lr")(ut,dt,!1,function(t){i("Rf+A")},"data-v-5d054b64",null).exports,ht={name:"timeline",components:{blogHeader:q},data:function(){return{isActive:!1,getTimeLineUrl:"/blog/getTimeline",queryArticleListByTimeLineUrl:"/blog/queryArticleListByTimeLine",timeLineTotal:0,timeLineCurrentPage:1,timeLinePageSize:5,timeLineList:[],articleTotal:0,articleCurrentPage:1,articlePageSize:5,articleList:[],currentIndex:0,currentTimeLine:"",isFirstLoadTimeLine:!0,unhappyPrompt:"加把劲哟~",commonPrompt:"继续努力~",happyPrompt:"很棒啊"}},computed:{getPrompt:function(){return this.articleTotal<=3&&this.unhappyPrompt||this.articleTotal<=6&&this.unhappyPrompt||this.happyPrompt},isShowArticleReadMore:function(){return this.articleTotal>this.articleCurrentPage*this.articlePageSize},isShowTimeReadMore:function(){return this.timeLineTotal>this.timeLineCurrentPage*this.timeLinePageSize}},mounted:function(){this.isActive=!0,this.loadTimeLine()},methods:{loadTimeLine:function(){var t=this,e={offset:(this.timeLineCurrentPage-1)*this.timeLinePageSize+1,limit:this.timeLinePageSize};this.axios.get(this.getTimeLineUrl,{params:e}).then(function(e){if(t.timeLineTotal=e.data.data.total,e.data.data){var i;(i=t.timeLineList).push.apply(i,D()(e.data.data.rows));var a=e.data.data.rows[0].timeline;t.getArticleListByTimeLine(a),t.currentTimeLine=a}}).catch(function(t){console.log(t)})},getArticleListByTimeLine:function(t){var e=this,i={timeLine:t,offset:(this.articleCurrentPage-1)*this.articlePageSize+1,limit:this.articlePageSize};this.axios.get(this.queryArticleListByTimeLineUrl,{params:i}).then(function(t){var i;t.data.data&&((i=e.articleList).push.apply(i,D()(t.data.data.rows)),e.articleTotal=t.data.data.total)}).catch(function(t){console.log(t)})},loadMoreTimeLine:function(){var t=this;this.timeLineCurrentPage+=1;var e={offset:(this.timeLineCurrentPage-1)*this.timeLinePageSize+1,limit:this.timeLinePageSize};this.axios.get(this.getTimeLineUrl,{params:e}).then(function(e){var i;(t.timeLineTotal=e.data.data.total,e.data.data)&&(i=t.timeLineList).push.apply(i,D()(e.data.data.rows))}).catch(function(t){console.log(t)})},loadMoreArticle:function(){this.articleCurrentPage+=1,this.getArticleListByTimeLine(this.currentTimeLine)},queryArticleByMonth:function(t,e){this.currentIndex=e,this.articleTotal=0,this.articleCurrentPage=1,this.articlePageSize=5,this.articleList=[],this.currentTimeLine=t,this.getArticleListByTimeLine(t)},formatTimeLine:function(t){var e=t.split("年"),i=t.split("年")[1].split("月")[0],a=Number(i);return e[0]+"年"+a+"月"},toArticleContentPage:function(t,e){this.$router.push({name:"articleContent",query:{articleId:t,author:e}})},getCategoriesList:function(t){return t.split(",").join(" ")},getFormatDateSimple:function(t){return function(t){var e=new Date(t),i=e.getFullYear(),a=e.getMonth()+1;return i+"-"+(a>=10?a:"0"+a)+"-"+(e.getDate()>=10?e.getDate():"0"+e.getDate())}(t)}}},gt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("blog-header"),t._v(" "),i("div",{staticClass:"main-container time-line-container"},[i("div",{staticClass:"time-line-content",class:{"enter-animation-active":t.isActive}},[i("div",{staticClass:"time-line-tags"},[i("div",{staticClass:"time-tags-title"},[t._v("足迹")]),t._v(" "),i("div",{staticClass:"time-tags-content"},[i("ul",{staticClass:"time-tags-list"},t._l(t.timeLineList,function(e,a){return i("li",{key:e.timeline,staticClass:"time-item"},[i("a",{staticClass:"time-link",class:{active:t.currentIndex===a},on:{click:function(i){return t.queryArticleByMonth(e.timeline,a)}}},[t._v(t._s(t.formatTimeLine(e.timeline)))])])}),0),t._v(" "),t.isShowTimeReadMore?i("div",{staticClass:"time-read-more",on:{click:t.loadMoreTimeLine}},[t._v("加载更多 >>")]):t._e()])]),t._v(" "),i("div",{staticClass:"current-month-articles"},[i("div",{staticClass:"articles-statistics"},[t._v("\n          本月博客数量共计"),i("span",{staticClass:"article-total"},[t._v(t._s(t.articleTotal))]),t._v("篇，\n          "),i("span",[t._v(t._s(t.getPrompt))])]),t._v(" "),i("el-timeline",t._l(t.articleList,function(e){return i("el-timeline-item",{key:e.id,attrs:{timestamp:t.getFormatDateSimple(e.createTime),placement:"top"}},[i("el-card",[i("h4",{staticClass:"article-title",on:{click:function(i){return t.toArticleContentPage(e.articleId,e.author)}}},[t._v(t._s(e.articleTitle))]),t._v(" "),i("div",{staticClass:"blog-info"},[i("span",{staticClass:"blog-info-item"},[i("i",{staticClass:"icon iconfont icon-biaoqian"}),t._v(" "+t._s(t.getCategoriesList(e.categories))+"\n              ")])]),t._v(" "),i("p",{staticClass:"article-summary"},[t._v(t._s(e.summary))])])],1)}),1),t._v(" "),i("div",{staticClass:"read-more-wrapper"},[t.isShowArticleReadMore?i("el-button",{attrs:{type:"info"},on:{click:t.loadMoreArticle}},[t._v("阅读更多")]):t._e()],1)],1)])])],1)},staticRenderFns:[]};var vt=i("C7Lr")(ht,gt,!1,function(t){i("GR/j")},"data-v-8ab58d12",null).exports,ft={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"title-container",class:{"enter-animation-active":this.isActive}},[this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title"},[e("div",{staticClass:"js-title"},[this._v("Hot")]),this._v(" "),e("div",{staticClass:"content-title"},[this._v("Do you like ...")])])}]};var pt={name:"hot-spot",components:{blogHeader:q,hotHeader:i("C7Lr")({name:"hot-header",data:function(){return{isActive:!1}},mounted:function(){this.isActive=!0}},ft,!1,function(t){i("Q/f/")},null,null).exports},data:function(){return{isActive:!1,total:0,currentPage:1,pageSize:5,articleList:[],queryArticleListByVisitsUrl:"/blog/queryArticleListByVisits"}},mounted:function(){this.isActive=!0,this.loadArticles()},computed:{isShowArticleReadMore:function(){return this.total>this.currentPage*this.pageSize}},methods:{toArticleContentPage:function(t,e){this.$router.push({name:"articleContent",query:{articleId:t,author:e}})},orderNum:function(t){if(this.articleList.length>0)return"TOP "+(t+1)},loadMoreArticle:function(){this.currentPage+=1,this.loadArticles()},loadArticles:function(){var t=this,e={offset:(this.currentPage-1)*this.pageSize+1,limit:this.pageSize};this.axios.get(this.queryArticleListByVisitsUrl,{params:e}).then(function(e){var i;e.data.data&&((i=t.articleList).push.apply(i,D()(e.data.data.rows)),t.total=e.data.data.total)}).catch(function(t){console.log(t)})},getFormatCN:function(t){return x(t)}}},Ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("blog-header"),t._v(" "),i("div",{staticClass:"main-container"},[i("hot-header"),t._v(" "),i("ul",{staticClass:"hot-article-list hot-spot-container",class:{"enter-animation-active":t.isActive}},[t._l(t.articleList,function(e,a){return i("li",{key:e.id,staticClass:"hot-article-item"},[i("p",{staticClass:"order"},[t._v(t._s(t.orderNum(a)))]),t._v(" "),i("div",{staticClass:"hot-article-card"},[i("div",{staticClass:"hot-article-title",on:{click:function(i){return t.toArticleContentPage(e.articleId,e.author)}}},[t._v(t._s(e.articleTitle))]),t._v(" "),i("div",{staticClass:"hot-article-info"},[i("span",{staticClass:"info-item"},[i("i",{staticClass:"icon iconfont icon-rili1"}),t._v(" "+t._s(t.getFormatCN(e.createTime))+"\n            ")]),t._v(" "),i("span",{staticClass:"info-item"},[i("i",{staticClass:"icon iconfont icon-shu"}),t._v(" "+t._s(e.visits)+"\n            ")])]),t._v(" "),i("div",{staticClass:"hot-article-summary"},[t._v(t._s(e.summary))])])])}),t._v(" "),i("div",{staticClass:"read-more-wrapper"},[t.isShowArticleReadMore?i("el-button",{attrs:{type:"info"},on:{click:t.loadMoreArticle}},[t._v("阅读更多")]):t._e()],1)],2)],1)],1)},staticRenderFns:[]};var _t=i("C7Lr")(pt,Ct,!1,function(t){i("+FuB")},"data-v-5d38439d",null).exports;a.default.use(p.a);var yt=[{path:"",redirect:"/index"},{path:"/index",name:"index",component:W},{path:"/login",name:"login",component:lt},{path:"/writeArticle",name:"writeArticle",component:et},{path:"/articleContent",name:"articleContent",component:mt},{path:"/timeLine",name:"timeLine",component:vt},{path:"/hotSpot",name:"hotSpot",component:_t}],bt=[{path:"*",redirect:"/pageNoFound",hidden:!0},{path:"/pageNoFound",name:"pageNoFound",component:_,hidden:!0}],wt=new p.a({routes:yt}),xt={state:{routers:yt,addRouters:[]},mutations:{SET_ROUTERS:function(t,e){t.addRouters=e,t.routers=yt.concat(e)}},actions:{GenerateRoutes:function(t,e){var i=t.commit;return new l.a(function(t){var a=void 0;e.roles.indexOf("admin")>=0&&(a=bt),i("SET_ROUTERS",a),t()})}}};var Tt={state:{token:I()},mutations:{SET_TOKEN:function(t,e){t.token=e},REMOVE_TOKEN:function(t,e){t.token=""}},actions:{Login:function(t,e){var i=t.commit,a=e.username.trim();return new l.a(function(t,s){(function(t,e){return Pt.post("/blog/login",j.a.stringify({username:t,password:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})(a,e.password).then(function(e){var s;0===e.data.errorCode&&(s=a,M.a.set(F,s),i("SET_TOKEN",a)),t(e)}).catch(function(t){s(t)})})},GetInfo:function(){return new l.a(function(t,e){Pt.get("/blog/getCurrentUser").then(function(e){var i;e.data.data?(i=e.data.data.avatarUrl,M.a.set(E,i)):(U(),B()),t(e)}).catch(function(t){e(t)})})},Logout:function(t){var e=t.commit;return new l.a(function(t,i){Pt({url:"/blog/logout",method:"post"}).then(function(i){0===i.data.errorCode&&(e("SET_TOKEN",""),U(),B()),t(i)}).catch(function(t){i(t)})})},FedLogOut:function(t){var e=t.commit;return new l.a(function(t){e("SET_TOKEN",""),U(),B(),t()})}}};a.default.use(m.a);var kt=new m.a.Store({modules:{permission:xt,user:Tt},state:{tags:[{label:"Java",icon:"icon-java"},{label:"JavaScript",icon:"icon-logo-javascript"},{label:"CSS",icon:"icon-css"},{label:"VUE",icon:"icon-bxl-vuejs"},{label:"REACT",icon:"icon-react"},{label:"Database",icon:"icon-data-base"},{label:"Server",icon:"icon-fuwuqi"},{label:"Others",icon:"icon-qita"}]},getters:f,actions:v.a,mutations:h}),Lt=d.a.create({timeout:3e4});Lt.interceptors.response.use(function(t){var e=t.data;return 0!==e.errorCode?(1004===e.errorCode&&kt.dispatch("FedLogOut").then(function(){wt.replace({name:"login"})}),l.a.reject(t)):t},function(t){return l.a.reject(t)});var Pt=Lt,St=(i("HBSQ"),i("t0aP"),i("E4C3")),At=i.n(St),Mt=(i("ve9D"),["/login","/index","/writeArticle","/articleContent","/timeLine","/hotSpot","/pageNoFound"]);wt.beforeEach(function(t,e,i){At.a.start(),-1!==Mt.indexOf(t.path)?i():I()?kt.getters.token?i():kt.dispatch("GetInfo").then(function(t){0===t.data.errorCode?(console.log(123,t),i()):(i("/login"),At.a.done())}).catch(function(t){i("/login"),At.a.done()}):(i("/login"),At.a.done())}),wt.afterEach(function(){At.a.done()});var Ft=i("GLlk"),It=i.n(Ft);a.default.prototype.axios=Pt,a.default.use(It.a),a.default.use(o.a),a.default.config.productionTip=!1,kt.commit("SET_ROUTERS",bt),wt.addRoutes(kt.getters.addRouters),new a.default({el:"#app",router:wt,store:kt,components:{App:n},render:function(t){return t(n)}})},"Q/f/":function(t,e){},"Rf+A":function(t,e){},SX85:function(t,e){},SY7O:function(t,e,i){t.exports=i.p+"static/img/umbrella.3be585d.png"},ZaWe:function(t,e){},b4Sb:function(t,e){},eehH:function(t,e){},lACX:function(t,e){},mUbh:function(t,e){},pPDw:function(t,e){},sRUV:function(t,e){},t0aP:function(t,e){},ve9D:function(t,e){},zjED:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.576f4fbd3dbef8590b90.js.map